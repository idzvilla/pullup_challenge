# Быстрое решение ошибки сборки на Railway

## Проблема
Ошибка: `process "apt-get install -y libpq5" did not complete`

## Решение (выберите один вариант)

### ✅ Вариант 1: Использовать Dockerfile (РЕКОМЕНДУЕТСЯ)

**ВАЖНО:** Настройки Build находятся в настройках СЕРВИСА, а не проекта!

1. В Railway откройте ваш проект
2. В левой панели найдите и **кликните на сервис `pullup_challenge`** (не на название проекта!)
3. В верхней панели сервиса перейдите в **"Settings"** (вкладка справа, рядом с "Deployments", "Variables", "Metrics")
4. В настройках сервиса найдите раздел **"Build"** или **"Buildpack"**
5. В поле **"Buildpack"** выберите **"Dockerfile"** из выпадающего списка
   - Или если есть поле "Build Command" → оставьте его пустым (Railway автоматически найдет Dockerfile)
6. Сохраните изменения (кнопка "Save" или "Update")
7. Вернитесь на вкладку **"Deployments"** и нажмите **"Redeploy"** или создайте новый деплой

### Вариант 2: Ручная настройка команд сборки

1. В Railway → Settings → Build
2. **Build Command**: `pip install --no-cache-dir -r requirements.txt`
3. **Start Command**: `python bot.py`
4. Убедитесь, что Buildpack = "Nixpacks" (не Docker)
5. Сохраните и перезапустите деплой

### Вариант 3: Удалить автоматическое определение зависимостей

Если Railway все еще пытается установить libpq5:

1. Убедитесь, что файл `nixpacks.toml` есть в корне проекта
2. Закоммитьте и запушьте изменения
3. В Railway → Settings → Build → Buildpack: выберите "Nixpacks"
4. Перезапустите деплой

## Проверка

После деплоя проверьте логи:
- Должно быть: `Successfully installed python-telegram-bot psycopg2-binary python-dotenv`
- НЕ должно быть: ошибок про `libpq5` или `apt-get`

## Если ничего не помогает

Попробуйте создать новый сервис в Railway:
1. Создайте новый сервис
2. Подключите тот же репозиторий
3. Сразу выберите "Use Dockerfile" при создании
4. Добавьте PostgreSQL и переменные окружения
5. Задеплойте

